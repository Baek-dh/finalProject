<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="myPageMapper">

	<!-- 프로필 이미지 변경 -->
	<update id="updateProfile">
		UPDATE USER_TB SET USER_PROFILE = #{profileImage}
		WHERE USER_NO = #{userNo}
	</update>
	
	<!-- 회원정보 수정 -->
	<update id="updateInfo">
		UPDATE USER_TB SET 
		USER_NAME = #{updateName}, USER_PHONE = #{updateTel}, USER_ADDRESS = #{userAddress}
		WHERE USER_NO = #{userNo}
	</update>
	
	<!-- 암호화된 비밀번호 조회 -->
	<select id="selectEncPw" resultType="string">
		SELECT USER_PW FROM USER_TB
		WHERE USER_NO = #{userNo}
	</select>
	
	<!-- 비밀번호 변경 -->
	<update id="changePw">
		UPDATE USER_TB SET USER_PW = #{changePw}
		WHERE USER_NO = #{userNo}
	</update>
	
	<!-- 회원 탈퇴 -->
	<update id="secession">
		UPDATE USER_TB SET SECESSION_DT = SYSDATE
		WHERE USER_NO = #{userNo}
	</update>

</mapper>
